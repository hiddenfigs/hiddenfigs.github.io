<!doctype html>
<html lang="{{ .Param "language-code" | default site.LanguageCode }}">
  <head itemscope itemtype="http://schema.org/WebSite">
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>
      {{- if .Param "last" -}}
        Hidden Figure &middot;
        {{ .Title }}
      {{- else -}}
        {{ .Title }}
      {{- end -}}
    </title>

    <!-- Preload fonts -->
    <link
      rel="preload"
      as="font"
      href="/css/fonts/montserrat-v25/montserrat-v25-latin-700.woff2"
      crossorigin
    />
    <link
      rel="preload"
      as="font"
      href="/css/fonts/roboto-slab-v32/roboto-slab-v32-latin-regular.woff2"
      crossorigin
    />
    <link
      rel="preload"
      as="font"
      href="/css/fonts/roboto-slab-v32/roboto-slab-v32-latin-700.woff2"
      crossorigin
    />
    <link
      rel="preload"
      as="font"
      href="/css/fonts/montserrat-v25/montserrat-v25-latin-regular.woff2"
      crossorigin
    />
    {{ if .IsHome }}
      <!-- Preload images for the homepage -->
      <link
        rel="preload"
        href="/img/background/bodyBackground.webp"
        as="image"
      />
      <link
        rel="preload"
        href="/img/background/titleBackground.webp"
        as="image"
      />
    {{ else }}
      <!-- Preload image for other pages -->
      <link
        rel="preload"
        href="/img/background/personBackground.webp"
        as="image"
      />
    {{ end }}

    {{ $cssTW := resources.Get "css/main.css" }}
    {{ $css := $cssTW | css.PostCSS (dict "inlineImports" true) }}
    {{ if not hugo.IsServer }}
      {{ $css = $css | minify | fingerprint | resources.PostProcess }}
    {{ end }}
    <link rel="stylesheet" href="{{ $css.RelPermalink }}" />
    {{ block "extra-head" . }}{{ end }}

    <noscript>
      <style>
        .no-js-show {
          display: block;
        }
        .no-js-hide {
          display: none;
        }
      </style>
    </noscript>
    {{ $shouldMinify := not hugo.IsServer }}
    {{ $jsOpts := dict
      "minify" $shouldMinify
      "targetPath" "/js/main.js"
      "target" "es2020"
      "externals" (slice "/pagefind/*")
    }}
    {{ $js := resources.Get "js/entrypoint/main.js" | js.Build $jsOpts }}
    {{ if $shouldMinify }}
      {{ $js = $js | minify | fingerprint }}
    {{ end }}
    <link rel="modulepreload" href="{{ $js.RelPermalink }}" />

    <link rel="icon" href="/favicon.ico" type="image/png" sizes="any" />
    {{ $icon := site.Param "favicon" | resources.Get | fingerprint }}
    <link
      rel="icon"
      type="{{ $icon.MediaType }}"
      href="{{ $icon.Permalink }}"
    />
    {{ $icon = site.Param "touch-icon" | resources.Get }}
    {{ range $size := slice "180x180" }}
      {{ $iconShrunk := $icon.Fit $size }}
      <link rel="apple-touch-icon" href="{{ $iconShrunk.Permalink }}" />
    {{ end }}

    {{ if .Param "no-index" }}
      <meta name="robots" content="noindex" />
    {{ else }}
      <meta name="robots" content="index,follow" />
      <link href="{{ .Permalink }}" rel="canonical" />
    {{ end }}

    {{ template "_internal/opengraph.html" . }}
    {{ template "_internal/twitter_cards.html" . }}
    {{ template "_internal/schema.html" . }}
    <meta name="description" content="{{ .Description }}" />
    {{ template "_internal/google_analytics.html" . }}
    <style>
      .popup {
        display: none;
        position: fixed;
        left: 50%;
        top: 50%;
        transform: translate(-50%, -50%);
        border: 1px solid #888;
        background-color: white;
        padding: 30px;
        z-index: 1000;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        border-radius: 10px;
        max-width: 700px; /* Wider popup */
        width: 90%;
      }

      .popup-content {
        position: relative;
        width: 100%; /* Ensure the content takes up the full width of the popup */
      }

      .close {
        position: absolute;
        top: 10px;
        right: 10px;
        font-size: 24px;
        cursor: pointer;
        color: #888;
      }

      .close:hover {
        color: #000;
      }

      h2 {
        margin-top: 0;
        font-size: 24px;
        color: #333;
      }

      form div {
        margin-bottom: 15px;
      }

      label {
        display: block;
        margin-bottom: 5px;
        font-weight: bold;
        color: #555;
      }

      input[type="text"] {
        width: 100%;
        padding: 8px;
        border: 1px solid #ccc;
        border-radius: 4px;
        font-size: 14px;
      }

      button {
        padding: 10px 15px;
        background-color: #007bff;
        color: white;
        border: none;
        border-radius: 4px;
        cursor: pointer;
        font-size: 14px;
      }

      button:hover {
        background-color: #0056b3;
      }

      #inputDisplay .popup-content {
        padding: 20px;
      }

      #inputDisplay h2 {
        font-size: 22px;
        color: #333;
        margin-bottom: 15px;
      }

      #inputDisplay pre {
        width: 100%; /* Make the dictionary display take up the full width */
        background-color: #f5f5f5;
        padding: 15px;
        border-radius: 4px;
        font-family: monospace;
        font-size: 14px;
        overflow-x: auto;
      }

      #inputDisplay ol {
        margin-top: 15px;
        padding-left: 20px;
      }

      #inputDisplay ol li {
        margin-bottom: 10px;
        color: #555;
      }

      #inputDisplay a {
        display: inline-block;
        margin-top: 15px;
        color: #007bff;
        text-decoration: none;
        font-weight: bold;
      }

      #inputDisplay a:hover {
        text-decoration: underline;
      }
    </style>
  </head>
  {{ $pageCat := printf "%s:%s" (.Section | default .Type) .Kind }}
  {{ if eq .Kind "home" }}{{ $pageCat = "home " }}{{ end }}
  <body
    data-ga-label="{{ $pageCat }}:featured"
    data-ga-category="featured"
    class="bg-gray font-serif text-base leading-normal text-g-9"
  >
    <div
      class="max-w-screen flex min-h-screen flex-col overflow-x-hidden bg-white"
    >
      {{ partialCached "nav.html" . }}
      {{ block "main" . }}
      {{ end }}
      {{ partialCached "footer.html" . }}
    </div>
    {{ partialCached "svg.html" . }}

    <button id="openPopupBtn">Open Popup</button>

    <div id="popup" class="popup">
        <div class="popup-content">
            <span class="close" id="closePopupBtn">&times;</span>
            <h2>Welcome to our site!</h2>
            <form id="scientistForm">
                <div>
                    <label for="firstName">First Name:</label>
                    <input type="text" id="firstName" name="firstName" required>
                </div>
                <div>
                    <label for="lastName">Last Name:</label>
                    <input type="text" id="lastName" name="lastName" required>
                </div>
                <div>
                    <label for="researchArea">Research Area:</label>
                    <input type="text" id="researchArea" name="researchArea" required>
                </div>
                <div>
                    <label for="courses">Relevant Courses:</label>
                    <input type="text" id="courses" name="courses" placeholder="List courses separated by commas">
                </div>
                <div>
                    <button type="button" onclick="showInput()">Show My Input</button>
                    <button type="button" id="closeFormBtn">Close</button>
                </div>
            </form>
        </div>
    </div>

    <div id="inputDisplay" class="popup">
        <div class="popup-content">
            <span class="close" onclick="document.getElementById('inputDisplay').style.display='none'">&times;</span>
            <h2>Your Input</h2>
            <pre id="displayText"></pre> <!-- Display the dictionary -->
            <p><strong>Instructions:</strong></p>
            <ol>
                <li><strong>Instructions to update your input! Take a picture if you can.</strong></li>
                <li><strong>Step 1:</strong> Copy the dictionary above.</li>
                <li><strong>Step 2:</strong> Click the link below to create a 'add file'.</li>
                <li><strong>Step 3:</strong> Click 'Create new file'.</li>
                <li><strong>Step 4:</strong> Paste the dictionary into the file.</li>
                <li><strong>Step 5:</strong> On "Name your file...", give your file a name!</li>
                <li><strong>Step 6:</strong> Click the green button 'Commit changes...'.</li>
                <li><strong>Step 7:</strong> Propose Changes.</li>
                <li><strong>Step 8:</strong> Click on the top right green button, "Create Pull Request", give an input, and submit your copied input!</li>
                <li><strong>Step 9:</strong> Bottom Right, Create Pull Request.</li>
            </ol>
            <a id="prLink" href="#" target="_blank" style="color: blue; text-decoration: underline;">Create New Pull Request</a>
        </div>
    </div>

    <script>
      document.addEventListener('DOMContentLoaded', (event) => {
          const openPopupBtn = document.getElementById('openPopupBtn');
          const closePopupBtn = document.getElementById('closePopupBtn');
          const closeFormBtn = document.getElementById('closeFormBtn');
          const popup = document.getElementById('popup');
          const inputDisplay = document.getElementById('inputDisplay');
  
          // Show the popup on every page load
          popup.style.display = 'block';
  
          openPopupBtn.addEventListener('click', () => {
              popup.style.display = 'block';
          });
  
          closePopupBtn.addEventListener('click', () => {
              popup.style.display = 'none';
          });
  
          closeFormBtn.addEventListener('click', () => {
              popup.style.display = 'none';
          });
  
          window.addEventListener('click', (event) => {
              if (event.target === popup) {
                  popup.style.display = 'none';
              }
          });
  
          document.getElementById('scientistForm').addEventListener('submit', function(event) {
              event.preventDefault(); // Prevent form from submitting normally
              var firstName = document.getElementById('firstName').value;
              var lastName = document.getElementById('lastName').value;
              var researchArea = document.getElementById('researchArea').value;
              var courses = document.getElementById('courses').value;
              alert('Submitted:\n' + firstName + ' ' + lastName + '\nResearch Area: ' + researchArea + '\nCourses: ' + courses);
              popup.style.display = 'none'; // Close the popup after submission
          });
      });
  
      function showInput() {
          var firstName = document.getElementById('firstName').value;
          var lastName = document.getElementById('lastName').value;
          var researchArea = document.getElementById('researchArea').value;
          var courses = document.getElementById('courses').value;
  
          // Create a dictionary (JavaScript object)
          var inputData = {
              "First Name": firstName,
              "Last Name": lastName,
              "Research Area": researchArea,
              "Relevant Courses": courses.split(',').map(course => course.trim()) // Split courses into an array
          };
  
          // Convert the dictionary to a formatted string
          var displayText = JSON.stringify(inputData, null, 2); // Pretty-print the dictionary
  
          // Display the dictionary in the popup
          document.getElementById('displayText').innerText = displayText;
  
          // Set the link to create a new pull request
          var repoUrl = "https://github.com/hiddenfigs/hiddenfigs.github.io/tree/main/content"; // Replace with your repo URL
          var prLink = document.getElementById('prLink');
          prLink.href = repoUrl;
  
          // Show the popup
          document.getElementById('inputDisplay').style.display = 'block';
      }
    </script>
  </body>
</html>